<-DOCTYPE html>
<html lang="es">
  <head>
	<script src="https://aframe.io/releases/1.0.1/aframe.min.js"></script>
	<script src="js/aframe-ar.min.js"></script>
	<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
	<title>Ciència i coneixement </title>
	<meta charset="UTF-8"/>
	<meta name="title" content="ciència i coneixement"/>
	<meta name="description" content="El territori des de l'espai"/>
	<meta name="author" content="Antonio López García"/>
	<meta name="keywords" content="augmented reality, space, science, 3D, realidad aumentada, satellite, mapping, cartografia, satelite "/>
	<link rel="shortcut icon" href="favicon/favicon.ico">
	<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#e9b938">  
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
  </head>

  <body style='margin : 0px; overflow: hidden;'>
     <!--position ="x z y"-->
	 <a-scene embedded arjs="debugUIEnabled: false;" vr-mode-ui="enabled: false">   
        <a-assets>		   		   
		   <!-- 01 Video Ebre 53 anys -->
		   <video id="pEbre"  crossOrigin="anonymous" playsinline webkitplaysinline autoplay controls muted  src="video/deltaEbre_53Blender.mp4"></video> 
           <!--02 3D model decaiment-->
           <a-asset-item id="sentinelDeca-obj" src="models/sentinelDeca.obj"></a-asset-item>
           <a-asset-item id="sentinelDeca-mtl" src="models/sentinelDeca.mtl"></a-asset-item>
           <a-mixin id="propertiesSD" scale=".2 .2 .2" position ="0 0 0" rotation="0 0 0"></a-mixin>
		   <!--09 3D model illa de calor-->
		   <a-asset-item id="illaC-obj" src="models/illaC_01.obj"></a-asset-item>
           <a-asset-item id="illaC-mtl" src="models/illaC_01.mtl"></a-asset-item>
           <a-mixin id="propertiesIllaC" scale=".4 .4 .4" position ="0 0 0" rotation="0 0 0"></a-mixin>
		   <!--04 3D model girona 3D -->
		   <a-asset-item id="girona-obj" src="models/girona_3D.obj"></a-asset-item>
           <a-asset-item id="girona-mtl" src="models/girona_3D.mtl"></a-asset-item>
           <a-mixin id="propertiesGir" scale=".01 .01 .01" position ="0 0 0" rotation="0 -90 0"></a-mixin>
		   <!--05 3D model castellfollit -->
		   <a-asset-item id="castellFollit-obj" src="models/castellFollit_02.obj"></a-asset-item>
           <a-asset-item id="castellFollit-mtl" src="models/castellFollit_02.mtl"></a-asset-item>
           <a-mixin id="propertiesCastellF" scale=".1 .1 .1" position ="0 0 0" rotation="0 0 0"></a-mixin>  		   
        </a-assets>
        
				
		<!-- 01 Video Ebre 53 anys -->
		<a-marker type="pattern" preset="custom" url="data/pattern-mDEbre.patt">
			
			<a-video src="#pEbre" position="0 0 0" rotation="270 0 0" ></a-video>
  		  <!-- <a-entity geometry="primitive: plane" scale="6 4 1" position="0 0 0" rotation="-90 0 0" material="src: #pEbre"></a-entity> -->
			<script> 
				var m = document.querySelector("a-marker")
				m.addEventListener("markerFound", (e)=>{
				console.log("found")
				var v = document.querySelector('#mivideo').play();
		  })
				m.addEventListener("markerLost", (e)=>{
				console.log("lost")
				var v = document.querySelector('#mivideo').pause();
			
		  })
		
			   </script>
		</a-marker>
		<!--02 3D model decaiment-->
		<a-marker type="pattern" preset="custom" url="data/pattern-markerDe.patt">
  		   <a-entity mixin="propertiesSD" obj-model="obj: #sentinelDeca-obj; mtl: #sentinelDeca-mtl "></a-entity>
		</a-marker>
		<!--09 3D model illa de calor-->
		<a-marker type="pattern" preset="custom" url="data/pattern-markerIllaCaUr.patt">
  		   <a-entity mixin="propertiesIllaC" obj-model="obj: #illaC-obj; mtl: #illaC-mtl "></a-entity>
		</a-marker>
		<!--04 3D model girona 3D -->
		<a-marker type="pattern" preset="custom" url="data/pattern-girona.patt">
  		   <a-entity mixin="propertiesGir" obj-model="obj: #girona-obj; mtl: #girona-mtl "></a-entity>
		</a-marker>
		 <!--05 3D model castellfollit-->
		<a-marker type="pattern" preset="custom" url="data/pattern-castellFollit.patt">
  		   <a-entity mixin="propertiesCastellF" obj-model="obj: #castellFollit-obj; mtl: #castellFollit-mtl "></a-entity>
		</a-marker>
		
				
  	    <a-entity camera></a-entity>
	</a-scene>

</body>
</html>
